{% load static %}

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>{{ company_name }}</title>
    <link href="{% static 'new/page5/navbar.css' %}" rel="stylesheet">
    <link href="{% static 'new/page5/style.css' %}" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reconnecting-websocket/1.0.0/reconnecting-websocket.min.js"></script>
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/73b6dfc8d5.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css" rel="stylesheet"/>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
    <audio id="myAudio">
      <source src="https://webinarzappastatic.s3.ap-south-1.amazonaws.com/media/WhatsApp+Audio+2020-09-06+at+3.02.16+PM.mpeg" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
    <script src="https://code.jquery.com/jquery-migrate-3.0.0.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="{% static 'main_website/dataanalytics_websocket.js' %}"></script>
    <link href="https://source.zoom.us/1.7.10/css/bootstrap.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="{% static 'main_website/chat_box.css' %}" />
    <link rel="stylesheet" href="{% static 'main_website/chat_box_multiple_main.css' %}" />
    <style>
       @media (orientation:portrait){
	        #wrapper { display:none; }
	        #warning-message { display:block; }
	    }
	    @media (orientation: landscape) {
	        #warning-message { display:none; }
	    }
        html, body {
            min-width: 0px !important;
            }
        #websdk-iframe {
            position: absolute !important;
            top: 2% !important;
            left: 11% !important;
            width: 88% !important;
            height: 85% !important;
        }
        #zmmtg-root{
            width: 0% !important;
            height: 0% !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
        }
        .blob {
          position: absolute;
          background: white;
          border-radius: 10vw;
          margin: 0.52vw;
          height: 1.05vw;
          width: 1.05vw;
          -webkit-box-shadow: 0 0 0 0 #6421ff;
                  box-shadow: 0 0 0 0 #6421ff;
          -webkit-transform: scale(1);
                  transform: scale(1);
          -webkit-animation: blob 2s infinite;
                  animation: blob 2s infinite;
        }


        @-webkit-keyframes blob {
          0% {
            -webkit-transform: scale(0.94);
                    transform: scale(0.94);
            -webkit-box-shadow: 0 0 0 0 rgba(245, 245, 248, 0.377);
                    box-shadow: 0 0 0 0 rgba(245, 245, 248, 0.377);
          }
          70% {
            -webkit-transform: scale(1);
                    transform: scale(1);
            -webkit-box-shadow: 0 0 0 0.52vw rgba(221, 217, 255, 0);
                    box-shadow: 0 0 0 0.52vw rgba(221, 217, 255, 0);
          }
          100% {
            -webkit-transform: scale(0.94);
                    transform: scale(0.94);
            -webkit-box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
                    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
          }
        }

        @keyframes blob {
          0% {
            -webkit-transform: scale(0.94);
                    transform: scale(0.94);
            -webkit-box-shadow: 0 0 0 0 rgba(245, 245, 248, 0.377);
                    box-shadow: 0 0 0 0 rgba(245, 245, 248, 0.377);
          }
          70% {
            -webkit-transform: scale(1);
                    transform: scale(1);
            -webkit-box-shadow: 0 0 0 0.52vw rgba(221, 217, 255, 0);
                    box-shadow: 0 0 0 0.52vw rgba(221, 217, 255, 0);
          }
          100% {
            -webkit-transform: scale(0.94);
                    transform: scale(0.94);
            -webkit-box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
                    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
          }
        }

     .btn-left
     {
    background: white;
    outline: none;
    position: absolute;
    cursor: pointer;
    width: 10vw;
    height: 3.5vw;
    z-index: 100;
    padding: 0.027vw;
    border-radius: 0vw 1.56vw 1.56vw 0vw;
    border: none;
    font-size: 0.9vw;
    color: #2F5EBC;
    font-weight: 600;
    border: #2F5EBC 0.14vw solid;
    border-right: #2F5EBC 0.49vw solid;
    box-shadow: 0.05vw 0.26vw 0.78vw rgba(0, 0, 0, 0.534);
     }
     .btn-right
     {
    background: white;
    outline: none;
    position: absolute;
    cursor: pointer;
    width: 10vw;
    height: 3.5vw;
    z-index: 100;
    padding: 0.027vw;
    border-radius: 1.56vw 0vw 0vw 1.56vw;
    border: none;
    font-size: 0.9vw;
    color: #2F5EBC;
    font-weight: 600;
    border: #2F5EBC 0.14vw solid;
    border-left: #2F5EBC 0.49vw solid;
    box-shadow: 0.05vw 0.26vw 0.78vw rgba(0, 0, 0, 0.534);
     }

    .page_custom {
        height: 97vh !important;
    }

    .vdo{
            position: absolute;
            top: 36%;
            left: 13%;
            height: 17.5vh;
            width: 16.5vw;
       }
    </style>
    <script>
        $('#input-call-details').datetimepicker({ footer: true, modal: true });
    </script>
</head>
<body>


<div id='wrapper'>
    <div class="page_custom" style="background-image: url('{{ background.url }}')">
        <a href='{{stall_web_link}}' target="_blank">
            <button class=" wow btn-left animate__animated animate__slideInLeft" data-wow-duration="2s"
                    data-wow-delay="0s"
                    onclick=stall_website() style="position: absolute; top: 25%; left: 0%;">Website
            </button>
        </a>
        <button class=" wow btn-left animate__animated animate__slideInLeft" data-target="#documentModal" data-toggle="modal"
                data-wow-duration="2s" onclick=stall_pdf()
                style="position: absolute; top: 40%; left: 0%;">Document
        </button>

        <button class=" wow btn-left animate__animated animate__slideInLeft" data-target="#videoModal" data-toggle="modal"
                data-wow-duration="2s" onclick=stall_pdf()
                style="position: absolute; top: 55%; left: 0%;">Videos
        </button>

<!--        <a href='https://wa.me/{{stall_whatsapp_number}}'>-->
<!--            <button class=" wow btn-left animate__animated animate__slideInLeft" data-wow-duration="2s"-->
<!--                    onclick=stall_whatsapp() style="position: absolute; top: 70%; left: 0%;">Whatsapp-->
<!--            </button>-->
<!--        </a>-->

<!--                 <a href = "{% url 'main_website:stalls' company_name=company_name stall_text=stall_text %}"><button data-wow-duration="2s" class=" wow btn-right animate__animated animate__slideInRight" style="top: 25%; right: 0%;" id="join_iframe">Zoom</button></a>-->
        <button data-wow-duration="2s" class=" wow btn-right animate__animated animate__slideInRight" style="top: 25%; right: 0%;" id = "attendee_popup_main">Chat</button>

        <button data-target="#callScheduleModal" data-toggle="modal" data-wow-duration="2s" class=" wow btn-right animate__animated animate__slideInRight" style="top: 40%; right: 0%;" >Schedule a Call</button>

        <button data-target="#salesrepresentative" data-toggle="modal" data-wow-duration="2s" class=" wow btn-right animate__animated animate__slideInRight" style="top: 55%; right: 0%;" >Sales Representatives</button>

    </div>

    <iframe allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="vdo"
            frameborder="0" src="{{ stall_video_url }}"></iframe>
<!--    <div class="wrapper">-->
<!--        <div class="boxarea_custom">-->
<!--            {% for rotating_image in rotating_images %}-->

<!--            <div class="slide{{ forloop.counter }} slide">-->
<!--                <img alt="" src="">-->
<!--            </div>-->
<!--            {% endfor %}-->
<!--        </div>-->
<!--    </div>-->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog" style="display:table; max-width: 100%; width: 80%; max-height: 100%; height:80%;">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" data-dismiss="modal" type="button">&times;</button>
                </div>
                <iframe allowfullscreen autoplay picture-in-picture src="{{ stall_doc_url.url }}"
                        style='width:100%; height:700px;'></iframe>
                <div class="modal-footer">
                    <button class="btn btn-default" data-dismiss="modal" type="button">Close</button>
                </div>
            </div>

        </div>
    </div>
    <div class="modal fade" id="callScheduleModal" role="dialog">
        <div class="modal-dialog" style="display:table; max-width: 100%; width: 80%; max-height: 100%; height:80%;">
            <div class="modal-content">
                <div class="modal-header">
                    <span>Schedule your call with stall owner</span>
                    <button class="close" data-dismiss="modal" type="button">&times;</button>
                </div>
                <br>
                <form method="POST" action="{% url 'main_website:schedule_call' company_name=company_name stall_text=stall_text  %}">
                    {% csrf_token %}
                    <label>What Date and Time you prefer for a call?</label>
                    <br>
                        <input id="input" placeholder="Please choose your preferred date and time" width="312" name="schedule_call"  />
                        <script>
                            $('#input').datetimepicker({ footer: true, modal: true });
                        </script>
                    <div class="modal-footer">
                        <input type="submit" onclick="alert('Your Call has Been Scheduled')" class="btn btn-default" type="button" value="Schedule">
                        <button class="btn btn-default" data-dismiss="modal" type="button">Close</button>
                    </div>
                </form>
            </div>

        </div>
    </div>


    <div class="modal" id="salesrepresentative">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Sales Representatives</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
            <div class="container">

            </div>

            <div class="modal-body">

                        {% for data in sales_representatives %}
                            <span style="padding-left: 30px;">Name is {{ data.0 }}</span><br><br>
                            <span style="padding-left: 30px;">Email is {{ data.1 }}</span><br><br>
                            <span style="padding-left: 30px;">Mobile is {{ data.2 }}</span><br><br>
                            <span style="padding-left: 30px;">Designation is {{ data.3 }}</span><br><br>
                            <hr>
                            <hr>
                        {% endfor %}
            </div>

                <div class="modal-footer">
                    <a href="#" data-dismiss="modal" class="btn">Close</a>
                </div>
            </div>
        </div>
    </div>




    <div class="modal" id="documentModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Documents</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
            <div class="container">

            </div>

            <div class="modal-body">

                        {% for doc_id,title,link in stall_documents %}
                        <img src="https://image.flaticon.com/icons/png/512/32/32329.png" width="30px" height="30px" alt="Doc Icon">
                        <a data-toggle="modal" href="#document{{doc_id}}" class="btn btn-primary">View</a>
                        <span style="padding-left: 30px;">{{ title }}</span><br><br>

                        {% endfor %}
            </div>

                <div class="modal-footer">
                    <a href="#" data-dismiss="modal" class="btn">Close</a>
                </div>
            </div>
        </div>
    </div>


    <div class="modal" id="videoModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Videos</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>

            <div class="modal-body">

                        {% for doc_id,title,link in stall_videos %}
                        <img src="https://image.flaticon.com/icons/png/512/32/32329.png" width="30px" height="30px" alt="Doc Icon">
                        <a data-toggle="modal" href="#video{{doc_id}}" class="btn btn-primary">View</a>
                        <span style="padding-left: 30px;">{{ title }}</span><br><br>

                        {% endfor %}
            </div>

                <div class="modal-footer">
                    <a href="#" data-dismiss="modal" class="btn">Close</a>
                </div>
            </div>
        </div>
    </div>



    {% for doc_id,title,link in stall_documents %}
        <div class="modal fade" id="document{{doc_id}}">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Documents</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    </div>
                    <div class="container">

                    </div>
                    <div class="modal-body">
                        <iframe src="{{link}}" width="550px" height="600px"></iframe>
                    </div>
                    <div class="modal-footer">
                        <a href="#" data-dismiss="modal" class="btn">Close</a>
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}



    {% for doc_id,title,link in stall_videos %}
        <div class="modal fade" id="video{{doc_id}}" >
            <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Videos</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>
                <div class="container">

                </div>
                <div class="modal-body">
                    <iframe id="videoframe{{doc_id}}" src="{{link}}" width="550px" height="600px"></iframe>
                </div>
                <div class="modal-footer">
                    <a href="#" data-dismiss="modal" class="btn">Close</a>
                    <!-- <a href="#" class="btn btn-primary">Save changes</a> -->
                </div>
            </div>
            </div>
        </div>
    {% endfor %}



    {% include 'new/everypage_chat.html' %}
    {% include 'new/multiple_main_chat.html' %}

    {% include 'nav.html' %}
</div>




<script>

$(document).ready(function(){
<!--    {% for doc_id,title,link in stall_videos %}-->
<!--        var url = $("#videoframe{{doc_id}}").attr('src');-->
<!--        $("#video{{doc_id}}").on('hide.bs.modal', function(){-->
<!--            $("#videoframe{{doc_id}}").attr('src', '');-->
<!--        });-->
<!--        $("#video{{doc_id}}").on('show.bs.modal', function(){-->
<!--            $("#videoframe{{doc_id}}").attr('src', url);-->
<!--        });-->
<!--    {% endfor %}-->
});

</script>

<script>
    window.addEventListener('click', function(e){
     // debugger;
      if (document.getElementById('chatbox').contains(e.target)){
        // Clicked in box
      }
      else if(document.getElementById('attendee_popup').contains(e.target)){
        debugger;
        document.getElementById('chatbox').style.display = "block";
        document.getElementById('chatbox_main').style.display = "none";
      }

      else if (document.getElementById('chatbox_main').contains(e.target)){
        // Clicked in box
      }
      else if(document.getElementById('attendee_popup_main').contains(e.target)){
        document.getElementById('chatbox_main').style.display = "block";
        document.getElementById('chatbox').style.display = "none";
      }
      else{
        document.getElementById('chatbox_main').style.display = "none";
        document.getElementById('chatbox').style.display = "none";
      }

    });

    $('#attendee_popup').click(function(){
        document.getElementById('chatbox').style.display = "block";
    })
    $('#attendee_popup_main').click(function(){
        document.getElementById('chatbox_main').style.display = "block";
    })
</script>

<script type="text/javascript">
    window.onload = function() {
            document.getElementById('meeting_number').value = "{{zoom_meeting_id}}";
            document.getElementById('meeting_pwd').value = "{{zoom_meeting_password}}";
            // debugger;
    };
</script>


<div id='warning-message' style='background-color: black;'>
    <img src="https://www.robscanlon.com/pleaserotate/demo.gif" style='width:100%;height: 100%;'></img>
    <h1 style="font-size: 40px; color:white; position: absolute; top:0%; text-align: center;">Please rotate Mobile </h1>
</div>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"></script>
<script src="{% static 'main_website/chat_box_multiple_main.js' %}"></script>
<script src="{% static 'main_website/index.js' %}"></script>
<script>
    $('#zmmtg-root').remove();
    new WOW().init();
</script>

</body>
</html>
